
@{
    ViewBag.Title = "Index";
}
<link href="~/Content/jstree/themes/default/style.min.css" rel="stylesheet" />
<div id='treeview'></div>
@section scripts
{
    <script src="~/Content/jstree/jstree.min.js"></script>
    <script>
        $(document).ready(function () {

            $('#treeview').jstree({
                "plugins": ["search", "wholerow"],
                'core': {
                    'data': {
                        'url': function (node) {
                            return node.id === '#' ? "/AccountingTree/GetRoot" : "/AccountingTree/GetChildren/" + node.id;

                        },
                        'data': function (node) {
                            console.log(node)
                            return { 'id': node.id };
                        }
                    }
                }
            });

            $('#treeview').on('changed.jstree', function (e, data) {
                console.log(data)
                console.log("=> selected node: " + data.node.id + " name: " + data.node.name);
            });
        });

    </script>
}
